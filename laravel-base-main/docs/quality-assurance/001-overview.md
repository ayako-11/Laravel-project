(※このファイルは雛形です。以下の内容は記載例となります。ドキュメント内容がプロジェクト内容に沿った内容であることを確認し、必要な場合には内容を更新してからコミットしてください。)

# Overview(Quality assurance)
本資料は、開発プロセスにおける成果物の品質保証に関する方針、取り決めについての概要を記載する。

各セクションの詳細については、それぞれの詳細ドキュメントを参照すること。

## 対象 / subject

- アプリケーション担当者 / Application Engineer
- 品質管理担当者 / Quality Assurance Engineer
- プロジェクト管理者 / Project Manager

# 内容
## 開発工程の成果物品質保証を構成する要素
成果物の品質保証は、以下の3つの要素によって構成される。

### 静的解析 / Static analysis
PHPの各種パッケージ（PHPCS,phpmd等）を組み合わせたソースコードの静的解析。

いわゆるコーディング標準や、成果物としてのソースコードの内容を規定するあらゆる規約は、この静的解析の設定として表現されるべきである。

開発ワークフローにおいては、Github Actionを利用して静的解析を自動的に実施し、継続的にソースコード状態を可視化するとともに修正すべき点を開発者にフィードバックする。

詳細については、以下のドキュメントに記載する。
- [静的解析](./011-static-analysis.md)

### 自動化された動的テスト 
PHPUnitを用いた、ソースコードに対する自動テストである。

詳細については、以下のドキュメントに記載する。
- [自動化された動的テスト](./040-testing.md)

### 品質保証指標
- 前述する`静的解析` および`自動化された動的テスト` の結果得られる情報のうち、ソフトウェア品質を判断するために有効と考えられる情報を指標として定義したものである。
- 一例として、重要な指標を以下に示す。
  - 静的解析の実行結果（真偽値：成功、または失敗）
  - 静的解析の結果得られる、認知的複雑度/Cognitive Complexity（数値）
  - 自動化された動的テストの実行結果（真偽値：成功、または失敗）
  - 自動化された動的テストにより得られる、コードカバレッジ（割合を示す数値）

## 「開発ワークフロー」と「品質保証を構成する要素」の関係
- 前述した`静的解析`、`自動化された動的テスト`、`品質保証指標` は、ワークフロー上の重要なポイント、操作における進行/実行許可の基準を構成する。
- 開発ワークフローにおける重要なポイントとは、以下の3点である。
  - Commit　
  - Merge/PullRequest
  - Release

※MergeとPullRequestのタイミングは同一ではないが、品質保証の観点から適用すべき基準は同等で良いため、ここでは2つを合わせて1つのポイントと定義している。

以下に、開発ワークフローにおける重要ポイントでの基準について示す。

### Commit基準
- [commit基準](./010-commit.md) 

### Merge/PullRequest基準 
- [merge基準](./020-merge.md)

### Release基準 
- [release基準](./030-release.md) 

### 各基準の変更について
- アプリケーション担当者は、品質保証に関する基準を変更してはならない。
- アプリケーション担当者は、品質管理担当者、プロジェクト管理者に対して品質保証に関する変更を申請できる。
- 品質管理担当者とプロジェクト管理者は申請内容を精査し、基準変更の申請を許可または却下しなければならない。
  - 変更されたルールは直ちにリポジトリに反映し、開発者間で共有されなければならない。

## 備考
- [静的解析の設定ディレクトリ](../../qa/settings/sa)
- [静的解析用のシェル格納ディレクトリ](../../qa/scripts/sa)
